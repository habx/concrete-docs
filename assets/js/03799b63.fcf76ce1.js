"use strict";(self.webpackChunkconcrete_docs=self.webpackChunkconcrete_docs||[]).push([[332],{224:(n,e,t)=>{t.d(e,{Z:()=>g});var a,o=t(7294),r=t(6354),i=t(7379),l=t(7390),p=t(1593),d=t(8199),s=t(1041),u=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},c=(0,i.ZP)(d.A)(a||(a=u(["\n  border-radius: 6px;\n  position: relative;\n  transition-property: box-shadow, transform;\n  transition-duration: ","ms;\n  transition-timing-function: ",";\n  overflow: hidden;\n  --layout-left-padding: 0;\n  --layout-right-padding: 0;\n  --layout-top-padding: 0;\n  --layout-bottom-padding: 0;\n\n  &:not([data-flat='true']):not([data-outline='true']) {\n    box-shadow: ",";\n  }\n\n  &[data-outline='true'] {\n    border: 1px solid ",";\n  }\n\n  &[data-animated='true'] {\n    &:hover {\n      cursor: pointer;\n\n      &:not([data-flat='true']):not([data-outline='true']) {\n        box-shadow: ",";\n      }\n    }\n  }\n\n  &[data-spacing='regular'] {\n    --layout-left-padding: 36px;\n    --layout-right-padding: 36px;\n    --layout-top-padding: 24px;\n    --layout-bottom-padding: 24px;\n\n    @media (",") {\n      --layout-left-padding: 18px;\n      --layout-right-padding: 18px;\n    }\n  }\n\n  &[data-spacing='regular-horizontal-only'] {\n    --layout-left-padding: 36px;\n    --layout-right-padding: 36px;\n\n    @media (",") {\n      --layout-left-padding: 18px;\n      --layout-right-padding: 18px;\n    }\n  }\n\n  &[data-spacing='narrow'] {\n    --layout-left-padding: 18px;\n    --layout-right-padding: 18px;\n    --layout-top-padding: 12px;\n    --layout-bottom-padding: 12px;\n  }\n\n  &[data-spacing='narrow-horizontal-only'] {\n    --layout-left-padding: 18px;\n    --layout-right-padding: 18px;\n  }\n"],["\n  border-radius: 6px;\n  position: relative;\n  transition-property: box-shadow, transform;\n  transition-duration: ","ms;\n  transition-timing-function: ",";\n  overflow: hidden;\n  --layout-left-padding: 0;\n  --layout-right-padding: 0;\n  --layout-top-padding: 0;\n  --layout-bottom-padding: 0;\n\n  &:not([data-flat='true']):not([data-outline='true']) {\n    box-shadow: ",";\n  }\n\n  &[data-outline='true'] {\n    border: 1px solid ",";\n  }\n\n  &[data-animated='true'] {\n    &:hover {\n      cursor: pointer;\n\n      &:not([data-flat='true']):not([data-outline='true']) {\n        box-shadow: ",";\n      }\n    }\n  }\n\n  &[data-spacing='regular'] {\n    --layout-left-padding: 36px;\n    --layout-right-padding: 36px;\n    --layout-top-padding: 24px;\n    --layout-bottom-padding: 24px;\n\n    @media (",") {\n      --layout-left-padding: 18px;\n      --layout-right-padding: 18px;\n    }\n  }\n\n  &[data-spacing='regular-horizontal-only'] {\n    --layout-left-padding: 36px;\n    --layout-right-padding: 36px;\n\n    @media (",") {\n      --layout-left-padding: 18px;\n      --layout-right-padding: 18px;\n    }\n  }\n\n  &[data-spacing='narrow'] {\n    --layout-left-padding: 18px;\n    --layout-right-padding: 18px;\n    --layout-top-padding: 12px;\n    --layout-bottom-padding: 12px;\n  }\n\n  &[data-spacing='narrow-horizontal-only'] {\n    --layout-left-padding: 18px;\n    --layout-right-padding: 18px;\n  }\n"])),l.OM.m,l.AF,s.rS.shadow("regular"),s.rS.neutralColor(300),s.rS.shadow("regular",{hover:!0}),p.A.below.smallTablet,p.A.below.smallTablet),m=function(){return m=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},m.apply(this,arguments)},y=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]])}return t},g=o.forwardRef((function(n,e){var t=(0,r.U)(),a=n.animated,i=n.flat,l=n.outline,p=n.children,d=n.spacing,s=n.backgroundColor,u=void 0===s?t:s,g=y(n,["animated","flat","outline","children","spacing","backgroundColor"]);return o.createElement(c,m({ref:e},g,{backgroundColor:u,"data-animated":a,"data-flat":i,"data-outline":l,"data-spacing":d}),p)}))},6059:(n,e,t)=>{t.r(e),t.d(e,{BasicConfirmUsage:()=>I,TypeContainer:()=>R,contentTitle:()=>A,default:()=>D,frontMatter:()=>E,metadata:()=>L,toc:()=>S});var a,o,r=t(7462),i=t(1880),l=t(7294),p=t(4137),d=t(7379),s=t(1399),u=t(9864),c=t(8004),m=t(1887),y=t(6354),g=t(2056),f=function(){return f=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},f.apply(this,arguments)},h=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]])}return t},k=l.forwardRef((function(n,e){var t=n.children,a=h(n,["children"]),o=(0,c.H)(),r=(0,y.U)(),i=function(n){var e=function(n){if(!n)return[];var t=[];return l.Children.forEach(n,(function(n){(0,u.isFragment)(n)?t.push.apply(t,e(n.props.children)):t.push(n)})),t};return e(n).filter((function(n){return!!n}))}(t);return l.useLayoutEffect((function(){if(o.isInLayout)return o.registerChild(m.p.ActionBar)}),[o]),l.createElement(g.q,f({backgroundColor:r,"data-in-layout":o.isInLayout},a,{ref:e}),l.createElement(g.Y,{"data-count":l.Children.count(i)},l.Children.map(i,(function(n,e){return l.createElement(l.Fragment,{key:e},n)}))))})),x=t(5408),b=t(6787),C=l.createContext({confirmLabel:"Valider",cancelLabel:"Annuler"}),v=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},w=d.ZP.div(a||(a=v(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),N=t(8987),T=t(7629),B=t(1833),O=t(336),j=t(2463),M=t(224),P=t(4481),z=t(8517);const E={title:"Async prompts"},A=void 0,L={unversionedId:"async-prompts",id:"async-prompts",title:"Async prompts",description:"confirm,",source:"@site/docs/async-prompts.mdx",sourceDirName:".",slug:"/async-prompts",permalink:"/docs/async-prompts",editUrl:"https://github.com/habx/concrete-docs/edit/dev/docs/async-prompts.mdx",tags:[],version:"current",frontMatter:{title:"Async prompts"},sidebar:"docs",previous:{title:"Toggle Components",permalink:"/docs/modal-like"},next:{title:"Table usage",permalink:"/docs/table/usage"}},S=[{value:"Why async prompts ?",id:"why-async-prompts-",children:[],level:2},{value:"Confirm",id:"confirm",children:[{value:"Usage",id:"usage",children:[],level:3}],level:2},{value:"Notify",id:"notify",children:[{value:"Basic usage",id:"basic-usage",children:[],level:3},{value:"With illustration",id:"with-illustration",children:[],level:3},{value:"With JSX",id:"with-jsx",children:[],level:3},{value:"Markdown",id:"markdown",children:[],level:3},{value:"Options",id:"options",children:[{value:"Types",id:"types",children:[],level:4}],level:3}],level:2},{value:"Alert",id:"alert",children:[{value:"Example",id:"example",children:[],level:3}],level:2},{value:"Prompt",id:"prompt",children:[{value:"Example",id:"example-1",children:[],level:3}],level:2}],I=()=>(0,p.kt)(x.z,{onClick:async()=>{const n=await(e={message:"Do you want to confirm ?",confirmLabel:"Yes",cancelLabel:"No"},t=(0,s.HD)(e)?{message:e}:e,(0,b.e)((function(n){var e=n.onResolve;return{title:t.message,Component:function(){var n,a,o=l.useContext(C);return l.createElement(w,null,l.createElement(k,null,l.createElement(x.z,{ghost:!0,onClick:function(){return e(!1)}},null!==(n=t.cancelLabel)&&void 0!==n?n:o.cancelLabel),l.createElement(x.z,{error:!0,onClick:function(){return e(!0)}},null!==(a=t.confirmLabel)&&void 0!==a?a:o.confirmLabel)))},onClose:function(){return e(!1)}}})));var e,t;(0,N.h)("User response is "+(n?"yes":"no"))},mdxType:"Button"},"Click Me!"),R=d.ZP.div(o||(o=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 24px;\n"]))),U={toc:S,BasicConfirmUsage:I,TypeContainer:R};function D(n){let{components:e,...t}=n;return(0,p.kt)("wrapper",(0,r.Z)({},U,t,{components:e,mdxType:"MDXLayout"}),(0,p.kt)("h2",{id:"why-async-prompts-"},"Why async prompts ?"),(0,p.kt)("p",null,"Sometimes we need to get user confirmation after a form submission or any other interaction.\nBorwsers have built-in functions like ",(0,p.kt)("inlineCode",{parentName:"p"},"confirm")," that can get user validation but it won't be style.\nWith React it can be a pain to add a validation modal after submition. We came up with functions helpers inspired by\n",(0,p.kt)("a",{parentName:"p",href:"https://sweetalert2.github.io/"},"sweeetAlert")," that help us adding confirmation modals or even more complexe form called\nasynchronously."),(0,p.kt)("h2",{id:"confirm"},"Confirm"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"Concrete")," exports a ",(0,p.kt)("inlineCode",{parentName:"p"},"confirm")," function that return a ",(0,p.kt)("em",{parentName:"p"},"promise")," waiting for user response."),(0,p.kt)("h3",{id:"usage"},"Usage"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},"import { confirm, notify, Button } from '@habx/ui-core'\n\nconst MyComponent = () => {\n  const handleSubmit = async () => {\n    const hasConfirmed = confirm('Do you want to confirm ?')\n    notify(`User response ${hasConfirmed ? 'yes' : 'no'}`)\n  }\n\n  return <Button onClick={handleSubmit}>Click Me!</Button>\n}\n")),(0,p.kt)(I,{mdxType:"BasicConfirmUsage"}),(0,p.kt)("h2",{id:"notify"},"Notify"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"notify")," allows to render a sweet message at the bottom of the page from anywhere in the code\nas long as the code is behind the ",(0,p.kt)("inlineCode",{parentName:"p"},"Provider"),"."),(0,p.kt)("h3",{id:"basic-usage"},"Basic usage"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},"const MyComponent = () => (\n  <Button onClick={() => notify('I can be called from anwhere !')}>\n    Click Me!\n  </Button>\n)\n")),(0,p.kt)(x.z,{onClick:()=>(0,N.h)("I can be called from anwhere !"),mdxType:"Button"},"Click Me!"),(0,p.kt)("h3",{id:"with-illustration"},"With illustration"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},"const MyComponent = () => (\n  <Button\n    onClick={() =>\n      notify({\n        message: 'hi',\n        illustration: <Icon icon=\"3D-building-outline\" />,\n      })\n    }\n  >\n    Click Me!\n  </Button>\n)\n")),(0,p.kt)(x.z,{onClick:()=>(0,N.h)({message:"hi",illustration:(0,p.kt)(T.J,{icon:"3D-building-outline",mdxType:"Icon"})}),mdxType:"Button"},"Click Me!"),(0,p.kt)("h3",{id:"with-jsx"},"With JSX"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},'const MyComponent = () => {\n  const message = (\n    <div>\n      <Title type="regular">Title</Title>\n      <Text>Text</Text>\n    </div>\n  )\n  return <Button onClick={() => notify({ message })}>Click Me!</Button>\n}\n')),(0,p.kt)(x.z,{onClick:()=>(0,N.h)({message:(0,p.kt)("div",null,(0,p.kt)(B.D,{type:"regular",mdxType:"Title"},"Title"),(0,p.kt)(O.xv,{mdxType:"Text"},"Text"))}),mdxType:"Button"},"Click Me!"),(0,p.kt)("h3",{id:"markdown"},"Markdown"),(0,p.kt)("p",null,"You can pass directly markdown to ",(0,p.kt)("inlineCode",{parentName:"p"},"notify")," if you need more complex rendering without passing jsx"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},"const MyComponent = () => (\n  <Button onClick={() => notify({ message: '**hi in bold**', markdown: true })}>\n    Click Me!\n  </Button>\n)\n")),(0,p.kt)(x.z,{onClick:()=>(0,N.h)({message:"**hi in bold**",markdown:!0}),mdxType:"Button"},"Click Me!"),(0,p.kt)("h3",{id:"options"},"Options"),(0,p.kt)("p",null,"You can pass a 2nd argument to notify to configure the notification as you like"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"duration"),": ",(0,p.kt)("inlineCode",{parentName:"li"},"number")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"type"),": ",(0,p.kt)("inlineCode",{parentName:"li"},"'info | 'warning' | 'error'"))),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},"const MyComponent = () => (\n  <Button\n    onClick={() => notify('ERROR !', { duration: 10_000, type: 'error' })}\n  >\n    Click Me!\n  </Button>\n)\n")),(0,p.kt)("h4",{id:"types"},"Types"),(0,p.kt)(R,{mdxType:"TypeContainer"},(0,p.kt)(x.z,{small:!0,onClick:()=>(0,N.h)("info",{type:"info"}),mdxType:"Button"},"info"),(0,p.kt)(x.z,{small:!0,warning:!0,onClick:()=>(0,N.h)("warning",{type:"warning"}),mdxType:"Button"},"warning"),(0,p.kt)(x.z,{small:!0,error:!0,onClick:()=>(0,N.h)("error",{type:"error"}),mdxType:"Button"},"error")),(0,p.kt)("h2",{id:"alert"},"Alert"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"alert")," allows to add an ",(0,p.kt)("inlineCode",{parentName:"p"},"AlertBanner")," at the very top of your application, where you placed your ",(0,p.kt)("inlineCode",{parentName:"p"},"Provider"),"."),(0,p.kt)("h3",{id:"example"},"Example"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-typescript",metastring:"jsx",jsx:!0},'const MyComponent = () => {\n  return <Button onClick={() => alert("I\'m an alert !"}>Click Me!</Button>;\n};\n\n')),(0,p.kt)(j.K,{mdxType:"AlertPanel"},"In this example, the provider is scoped to the next Card"),(0,p.kt)("br",null),(0,p.kt)(M.Z,{spacing:"regular",outline:!0,mdxType:"Card"},(0,p.kt)(P.z,{mdxType:"Provider"},(0,p.kt)(x.z,{small:!0,onClick:()=>(0,z.Z)("I'm an alert !"),mdxType:"Button"},"Show me an alert"))),(0,p.kt)("h2",{id:"prompt"},"Prompt"),(0,p.kt)("p",null,"Prompt is a full customizable async util that render either a ",(0,p.kt)("inlineCode",{parentName:"p"},"Modal")," or a ",(0,p.kt)("inlineCode",{parentName:"p"},"LightBox")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"prompt")," takes a ",(0,p.kt)("em",{parentName:"p"},"function")," as first argument that should return an object with a ",(0,p.kt)("inlineCode",{parentName:"p"},"Component")," field.\nIt returns a promise that is resolved by calling the ",(0,p.kt)("inlineCode",{parentName:"p"},"onResolve")," function passed in the object of the first argument."),(0,p.kt)("p",null,"A ",(0,p.kt)("inlineCode",{parentName:"p"},"Modal")," is used by default but you can pass ",(0,p.kt)("inlineCode",{parentName:"p"},"fullscreen: true")," to use the ",(0,p.kt)("inlineCode",{parentName:"p"},"LightBox")," component.\nOther ",(0,p.kt)("inlineCode",{parentName:"p"},"Modal")," or ",(0,p.kt)("inlineCode",{parentName:"p"},"LightBox")," props can be passed as params."),(0,p.kt)("h3",{id:"example-1"},"Example"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},"import { prompt } from '@habx/ui-core'\n\nconst formResult = await prompt(({ onResolve }) => ({\n  Component: () => <form onSubmit={onResolve}>// you form</form>,\n}))\nif (formResult) {\n  // use your form result\n}\n")))}D.isMDXComponent=!0}}]);